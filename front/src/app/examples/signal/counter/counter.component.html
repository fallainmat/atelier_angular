<div class="flex flex-col items-center">
  <div>
    <div class="mt-8">
      <a class="flex-1 m-2 h-12 pointer-events-auto rounded-md p-2
    font-semibold leading-5 text-white bet-button bg-red-600 hover:bg-red-500"
         [class.active]="type() === 'signal'"
         routerLink="/examples/signal/counter" [queryParams]="{type: 'signal'}"
      >Signal
      </a>
      <a class="flex-1 m-2 h-12 pointer-events-auto rounded-md p-2
    font-semibold leading-5 text-white bet-button bg-red-600 hover:bg-red-500"
         [class.active]="type() === 'computed'"
         routerLink="/examples/signal/counter" [queryParams]="{type: 'computed'}">
        Computed
      </a>
      <a class="flex-1 m-2 h-12 pointer-events-auto rounded-md p-2
    font-semibold leading-5 text-white bet-button bg-red-600 hover:bg-red-500"
         [class.active]="type() === 'effect'"
         routerLink="/examples/signal/counter" [queryParams]="{type: 'effect'}"
      >Effect
      </a>
    </div>
  </div>
  <div class="border-solid border-blue-600 border-4 w-11/12 rounded p-8 m-8">
    <div class="flex justify-between">
      <div class="flex flex-col">
        <h1 class="font-semibold leading-5">Count: {{ count() }}</h1>
        <h1 class="font-semibold leading-5">DoubleCount: {{ doubleCount() }}</h1>
      </div>
      <div class="flex flex-col">
        <h1 class="font-semibold leading-5">CountObs: {{ countObs }}</h1>
        <h1 class="font-semibold leading-5">DoubleCountObs: {{ doubleCountObs$ | async }}</h1>
      </div>
    </div>
    <div class="flex justify-center mt-8">
      <button (click)="resetValue()" class="m-2 h-12 pointer-events-auto rounded-md p-2
    font-semibold leading-5 text-white bet-button bg-red-400 hover:bg-red-800">Reset</button>
      <button (click)="decrementValue()" class="m-2 h-12 pointer-events-auto rounded-md p-2
    font-semibold leading-5 text-white bet-button bg-cyan-400 hover:bg-cyan-800">Decrement</button>
      <button (click)="incrementValue()" class="m-2 h-12 pointer-events-auto rounded-md p-2
    font-semibold leading-5 text-white bet-button bg-cyan-400 hover:bg-cyan-800">Increment</button>
    </div>
  </div>
  @if (type() === 'computed') {
    <div class="border-solid border-blue-600 border-4 w-11/12 rounded p-8 m-8">
      <div class="flex flex-col items-center mt-2">
        <h1 class="font-semibold leading-5">{{ conditionalCount() }}</h1>
        <button (click)="changeConditionalDouble()" class="m-2 h-12 pointer-events-auto rounded-md p-2
    font-semibold leading-5 text-white bet-button bg-cyan-400 hover:bg-cyan-800">Je veux voir un
          count
        </button>
      </div>
    </div>
  }

  @if (type() === 'effect') {
    <div class="border-solid border-blue-600 border-4 w-11/12 rounded p-8 m-8">
      <div>
        <button (click)="changeDisplayChild()" class="m-2 h-12 pointer-events-auto rounded-md p-2
    font-semibold leading-5 text-white bet-button bg-cyan-400 hover:bg-cyan-800">Remove child</button>
        <button (click)="changeDisplayChild()" class="m-2 h-12 pointer-events-auto rounded-md p-2
    font-semibold leading-5 text-white bet-button bg-cyan-400 hover:bg-cyan-800">Add child</button>
      </div>
      <div style="margin: 20px 0">
        @if (displayChild) {
          <app-counter-child></app-counter-child>
        }
      </div>
    </div>
  }
</div>
